(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2272a9f8"],{1926:function(t,e,n){t.exports={colorPrimary:"#0052cc",colorBlack:"#172b4d",colorSuccess:"#36b37e",colorWarning:"#ffab00",colorDanger:"#ff5630",colorN40:"#dfe1e6",axisLineColor:"#dfe1e6",axisLabelFontWeight:"500"}},"1bfc":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wk-filter-header"},[n("flexbox",{directives:[{name:"show",rawName:"v-show",value:!t.selectionList||0===t.selectionList.length,expression:"!selectionList || selectionList.length === 0"}],staticClass:"filter-wrap"},[t.config.showSearch?n("el-input",{staticClass:"search-input",attrs:{placeholder:t.config.searchPlaceholder},on:{input:t.inputChange},nativeOn:{keyup:function(e){return!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchInput(e)}},model:{value:t.inputContent,callback:function(e){t.inputContent="string"===typeof e?e.trim():e},expression:"inputContent"}},[n("el-button",{attrs:{slot:"suffix",type:"icon",icon:"wk wk-sousuo"},on:{click:t.searchInput},slot:"suffix"})],1):t._e(),t._v(" "),t._t("left-start"),t._v(" "),n("div",{ref:"filterTabs",staticClass:"tabs"},[t.showTabs&&t.showTabs.length>0?[n("span",{staticClass:"tabs-label"},[t._v("显示:")]),t._v(" "),t._l(t.showTabs,(function(e,i){return n("el-button",{key:i,attrs:{title:e.label,type:e.value===t.currentActiveTab?"selected":null,icon:e.icon},on:{click:function(n){t.tabsClick(e)}}},[t._v(t._s(e.label))])}))]:t._e(),t._v(" "),t.config.tabSetShow||t.otherTabs.length>0||t.$slots.dropdownMore?n("el-dropdown",{attrs:{trigger:"click"},on:{command:t.otherClick}},[n("el-button",{staticClass:"dropdown-btn",attrs:{type:t.otherActiveTabName?"selected":null}},[n("span",[t._v(t._s(t.otherActiveTabName))]),t._v(" "),n("i",{staticClass:"el-icon-arrow-down",staticStyle:{"margin-left":"0"}})]),t._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t._l(t.otherTabs,(function(e,i){return n("el-dropdown-item",{key:i,class:{"is-select":t.currentActiveTab===e.value},attrs:{command:e.value}},[t._v("\n            "+t._s(e.label)+"\n          ")])})),t._v(" "),n("div",{class:{"none-other":0===t.otherTabs.length}},[t._t("dropdownMore")],2),t._v(" "),t.config.tabSetShow?n("el-dropdown-item",{attrs:{divided:t.otherTabs.length>0,command:t.config.tabSetCommand}},[n("span",{staticClass:"wk-filter-btn"},[n("i",{staticClass:"wk wk-manage"}),t._v(t._s(t.config.tabSetLabel)+"\n            ")])]):t._e()],2)],1):t._e(),t._v(" "),t._t("left-end")],2),t._v(" "),n("div",{staticClass:"filter-right"},[t._t("right")],2)],2),t._v(" "),t.selectionList&&t.selectionList.length>0?n("flexbox",{staticClass:"selection-bar"},[n("div",{staticClass:"selected—title"},[t._v("已选中 "),n("span",{staticClass:"selected—count"},[t._v(t._s(t.selectionList.length))]),t._v(" 项")]),t._v(" "),n("flexbox",{staticClass:"selection-items-box"},t._l(t.operations,(function(e,i){return n("el-button",{key:i,attrs:{icon:e.icon,size:"medium"},on:{click:function(n){t.selectionBarClick(e.type)}}},[t._v(t._s(e.name))])})))],1):t._e(),t._v(" "),t._t("default")],2)},a=[],s=n("b85c"),o=(n("a9e3"),n("fb6a"),n("7db0"),n("d3b7"),n("ac1f"),n("841c"),n("4de4"),n("a630"),n("3ca3"),n("caad"),n("8ed6")),c=n("7a1a"),r={name:"WkFilterHeader",components:{},props:{props:Object,search:String,selectionList:Array,activeTab:[String,Number],tabs:Array,operations:{type:Array,default:function(){return[]}}},data:function(){return{inputContent:"",currentActiveTab:"",currentMaxTabCount:5,observer:null}},computed:{config:function(){return Object(o["a"])({showSearch:!0,searchPlaceholder:"",maxTabCount:5,tabSetShow:!1,tabSetLabel:"设置",tabSetCommand:"set"},this.props||{})},showTabs:function(){return this.tabs&&this.tabs.length>this.currentMaxTabCount?this.tabs.slice(0,this.currentMaxTabCount):this.tabs},otherTabs:function(){return this.tabs&&this.tabs.length>this.currentMaxTabCount?this.tabs.slice(this.currentMaxTabCount):[]},otherActiveTabName:function(){var t=this;if(!this.tabs||!this.tabs.length||!this.otherTabs.length)return"";var e=this.otherTabs.find((function(e){return e.value===t.currentActiveTab}));return e?e.label:""}},watch:{activeTab:{handler:function(){void 0!==this.activeTab&&null!==this.activeTab&&this.currentActiveTab!==this.activeTab&&(this.currentActiveTab=this.activeTab)},immediate:!0},tabs:{handler:function(){this.changeTabsSize()},immediate:!0},search:{handler:function(){this.inputContent!==this.search&&(this.inputContent=this.search)},immediate:!0}},created:function(){this.debounceResizeWindow=Object(c["debounce"])(300,this.resizeWindow)},mounted:function(){this.debounceResizeWindow(),this.domUpdate(),window.addEventListener("resize",this.debounceResizeWindow)},beforeDestroy:function(){window.removeEventListener("resize",this.debounceResizeWindow),this.observer&&this.observer.disconnect()},methods:{resizeWindow:function(){this.currentMaxTabCount=this.config.maxTabCount,this.changeTabsSize()},domUpdate:function(){var t=this,e={attributes:!0,childList:!0,subtree:!0},n=function(e){var n,i=Object(s["a"])(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;"childList"===a.type&&t.debounceResizeWindow()}}catch(o){i.e(o)}finally{i.f()}},i=new MutationObserver(n);i.observe(this.$el,e),this.observer=i},changeTabsSize:function(){var t=this;this.$nextTick((function(){var e=t.$refs.filterTabs;if(e)for(var n=e.getBoundingClientRect(),i=n.x+n.width,a=Array.from(e.childNodes||[]).filter((function(t){return["DIV","BUTTON","SPAN"].includes(t.tagName)})),s=a.length-1;s>=0;s--){var o=a[s],c=o.getBoundingClientRect(),r=c.x+c.width;if(!(r>i))break;t.currentMaxTabCount--}}))},searchInput:function(){this.$emit("event-change","search",this.inputContent)},inputChange:function(){this.$emit("update:search",this.inputContent),this.$emit("event-change","searchUpdate",this.inputContent)},otherClick:function(t){if(t===this.config.tabSetCommand)this.$emit("event-change",t);else{var e=this.tabs.find((function(e){return e.value===t}));e?this.tabsClick(e):this.$emit("event-change",t)}},tabsClick:function(t){this.currentActiveTab=t.value,this.debounceResizeWindow(),this.$emit("update:activeTab",this.currentActiveTab),this.$emit("tabs-change",t)},selectionBarClick:function(t){this.$emit("operations-click",t)}}},l=r,u=(n("2f69"),n("9187"),n("2877")),d=Object(u["a"])(l,i,a,!1,null,"7a6f438c",null);e["a"]=d.exports},2309:function(t,e,n){"use strict";n("d302")},"2f69":function(t,e,n){"use strict";n("1926")},3822:function(t,e,n){},"65cc":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"knowledge-collection"},[n("wk-page-header",{attrs:{title:"回收站"}}),t._v(" "),n("wk-filter-header",{attrs:{tabs:t.tabsList,"active-tab":t.activeTab,props:{tabSetShow:!1,showSearch:!1}},on:{"update:activeTab":function(e){t.activeTab=e},"tabs-change":t.getData}}),t._v(" "),n("div",{staticClass:"container"},[n("el-table",{staticClass:"recycle-table",attrs:{data:t.tableList,height:"100%"}},[n("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"知识库名称",width:"300",prop:"name"}}),t._v(" "),n("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"知识库描述",prop:"description"}}),t._v(" "),n("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"删除时间",width:"240"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          删除于"+t._s(e.row.deleteTime)+"\n        ")]}}])}),t._v(" "),n("el-table-column",{attrs:{width:"150",label:"操作","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{staticStyle:{padding:"0"},attrs:{type:"primary-text"},on:{click:function(n){t.recoverClick(e)}}},[t._v("恢复")]),t._v(" "),n("el-button",{staticStyle:{padding:"0"},attrs:{type:"primary-text"},on:{click:function(n){t.deleteClick(e)}}},[t._v("永久删除")])]}}])})],1)],1)],1)},a=[],s=(n("a434"),n("b729")),o=n("fdca"),c=n("1bfc"),r={name:"KnowledgeRecycle",components:{WkPageHeader:o["a"],WkFilterHeader:c["a"]},filters:{},data:function(){return{tabsList:[{label:"全部",value:"all"}],activeTab:"all",tableList:[]}},created:function(){this.getData()},methods:{getData:function(){var t=this;Object(s["s"])().then((function(e){t.tableList=e.data})).catch()},recoverClick:function(t){var e=this,n=t.row,i=t.$index;this.$confirm("您确定要恢复该知识库吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(s["v"])({id:n.libraryId,type:1}).then((function(){e.$message.success("恢复成功!"),e.tableList.splice(i,1)})).catch()})).catch((function(){}))},deleteClick:function(t){var e=this,n=t.row,i=t.$index;this.$confirm("确定要永久删除吗，删除后将无法恢复?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(s["f"])({libraryId:n.libraryId}).then((function(){e.$message.success("删除成功"),e.tableList.splice(i,1)})).catch((function(){}))})).catch((function(){}))}}},l=r,u=(n("f9c3"),n("2877")),d=Object(u["a"])(l,i,a,!1,null,"1d32f3b9",null);e["default"]=d.exports},"7c26":function(t,e,n){},9187:function(t,e,n){"use strict";n("7c26")},d302:function(t,e,n){},f9c3:function(t,e,n){"use strict";n("3822")},fdca:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("flexbox",{staticClass:"wk-page-header",attrs:{justify:"space-between"}},[n("div",{staticClass:"wk-page-header__left"},[t.title||t.$slots.title?n("span",{staticClass:"wk-page-header-title"},[t._t("title",[t._v(t._s(t.title))])],2):t._e(),t._v(" "),t.help?n("i",{staticClass:"wk wk-icon-fill-help wk-help-tips",attrs:{"data-type":t.help.type,"data-id":t.help.id}}):t._e(),t._v(" "),t._t("left")],2),t._v(" "),n("div",{staticClass:"wk-page-header__center"},[t._t("center")],2),t._v(" "),n("div",{staticClass:"wk-page-header__right"},[t._t("right"),t._v(" "),t.dropdowns&&t.dropdowns.length>0?n("el-dropdown",{class:{"margin-left-interval":t.$slots.right},attrs:{trigger:"click"},on:{command:t.dropdownCommand}},[n("el-button",{staticClass:"dropdown-btn",attrs:{icon:"el-icon-more"}}),t._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.dropdowns,(function(e,i){return n("el-dropdown-item",{key:i,attrs:{icon:e.icon,command:e.command}},[t._v(t._s(e.name))])})))],1):t._e()],2)])},a=[],s={name:"WkPageHeader",components:{},props:{title:String,dropdowns:Array,help:Object},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{dropdownCommand:function(t){this.$emit("command",t)}}},o=s,c=(n("2309"),n("2877")),r=Object(c["a"])(o,i,a,!1,null,"985b7582",null);e["a"]=r.exports}}]);