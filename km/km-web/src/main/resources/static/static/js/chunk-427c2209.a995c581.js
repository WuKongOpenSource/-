(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-427c2209"],{"0a98":function(t,e,n){},1926:function(t,e,n){t.exports={colorPrimary:"#0052cc",colorBlack:"#172b4d",colorSuccess:"#36b37e",colorWarning:"#ffab00",colorDanger:"#ff5630",colorN40:"#dfe1e6",axisLineColor:"#dfe1e6",axisLabelFontWeight:"500"}},"1bfc":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wk-filter-header"},[n("flexbox",{directives:[{name:"show",rawName:"v-show",value:!t.selectionList||0===t.selectionList.length,expression:"!selectionList || selectionList.length === 0"}],staticClass:"filter-wrap"},[t.config.showSearch?n("el-input",{staticClass:"search-input",attrs:{placeholder:t.config.searchPlaceholder},on:{input:t.inputChange},nativeOn:{keyup:function(e){return!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchInput(e)}},model:{value:t.inputContent,callback:function(e){t.inputContent="string"===typeof e?e.trim():e},expression:"inputContent"}},[n("el-button",{attrs:{slot:"suffix",type:"icon",icon:"wk wk-sousuo"},on:{click:t.searchInput},slot:"suffix"})],1):t._e(),t._v(" "),t._t("left-start"),t._v(" "),n("div",{ref:"filterTabs",staticClass:"tabs"},[t.showTabs&&t.showTabs.length>0?[n("span",{staticClass:"tabs-label"},[t._v("显示:")]),t._v(" "),t._l(t.showTabs,(function(e,a){return n("el-button",{key:a,attrs:{title:e.label,type:e.value===t.currentActiveTab?"selected":null,icon:e.icon},on:{click:function(n){t.tabsClick(e)}}},[t._v(t._s(e.label))])}))]:t._e(),t._v(" "),t.config.tabSetShow||t.otherTabs.length>0||t.$slots.dropdownMore?n("el-dropdown",{attrs:{trigger:"click"},on:{command:t.otherClick}},[n("el-button",{staticClass:"dropdown-btn",attrs:{type:t.otherActiveTabName?"selected":null}},[n("span",[t._v(t._s(t.otherActiveTabName))]),t._v(" "),n("i",{staticClass:"el-icon-arrow-down",staticStyle:{"margin-left":"0"}})]),t._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t._l(t.otherTabs,(function(e,a){return n("el-dropdown-item",{key:a,class:{"is-select":t.currentActiveTab===e.value},attrs:{command:e.value}},[t._v("\n            "+t._s(e.label)+"\n          ")])})),t._v(" "),n("div",{class:{"none-other":0===t.otherTabs.length}},[t._t("dropdownMore")],2),t._v(" "),t.config.tabSetShow?n("el-dropdown-item",{attrs:{divided:t.otherTabs.length>0,command:t.config.tabSetCommand}},[n("span",{staticClass:"wk-filter-btn"},[n("i",{staticClass:"wk wk-manage"}),t._v(t._s(t.config.tabSetLabel)+"\n            ")])]):t._e()],2)],1):t._e(),t._v(" "),t._t("left-end")],2),t._v(" "),n("div",{staticClass:"filter-right"},[t._t("right")],2)],2),t._v(" "),t.selectionList&&t.selectionList.length>0?n("flexbox",{staticClass:"selection-bar"},[n("div",{staticClass:"selected—title"},[t._v("已选中 "),n("span",{staticClass:"selected—count"},[t._v(t._s(t.selectionList.length))]),t._v(" 项")]),t._v(" "),n("flexbox",{staticClass:"selection-items-box"},t._l(t.operations,(function(e,a){return n("el-button",{key:a,attrs:{icon:e.icon,size:"medium"},on:{click:function(n){t.selectionBarClick(e.type)}}},[t._v(t._s(e.name))])})))],1):t._e(),t._v(" "),t._t("default")],2)},i=[],s=n("b85c"),o=(n("a9e3"),n("fb6a"),n("7db0"),n("d3b7"),n("ac1f"),n("841c"),n("4de4"),n("a630"),n("3ca3"),n("caad"),n("8ed6")),c=n("7a1a"),r={name:"WkFilterHeader",components:{},props:{props:Object,search:String,selectionList:Array,activeTab:[String,Number],tabs:Array,operations:{type:Array,default:function(){return[]}}},data:function(){return{inputContent:"",currentActiveTab:"",currentMaxTabCount:5,observer:null}},computed:{config:function(){return Object(o["a"])({showSearch:!0,searchPlaceholder:"",maxTabCount:5,tabSetShow:!1,tabSetLabel:"设置",tabSetCommand:"set"},this.props||{})},showTabs:function(){return this.tabs&&this.tabs.length>this.currentMaxTabCount?this.tabs.slice(0,this.currentMaxTabCount):this.tabs},otherTabs:function(){return this.tabs&&this.tabs.length>this.currentMaxTabCount?this.tabs.slice(this.currentMaxTabCount):[]},otherActiveTabName:function(){var t=this;if(!this.tabs||!this.tabs.length||!this.otherTabs.length)return"";var e=this.otherTabs.find((function(e){return e.value===t.currentActiveTab}));return e?e.label:""}},watch:{activeTab:{handler:function(){void 0!==this.activeTab&&null!==this.activeTab&&this.currentActiveTab!==this.activeTab&&(this.currentActiveTab=this.activeTab)},immediate:!0},tabs:{handler:function(){this.changeTabsSize()},immediate:!0},search:{handler:function(){this.inputContent!==this.search&&(this.inputContent=this.search)},immediate:!0}},created:function(){this.debounceResizeWindow=Object(c["debounce"])(300,this.resizeWindow)},mounted:function(){this.debounceResizeWindow(),this.domUpdate(),window.addEventListener("resize",this.debounceResizeWindow)},beforeDestroy:function(){window.removeEventListener("resize",this.debounceResizeWindow),this.observer&&this.observer.disconnect()},methods:{resizeWindow:function(){this.currentMaxTabCount=this.config.maxTabCount,this.changeTabsSize()},domUpdate:function(){var t=this,e={attributes:!0,childList:!0,subtree:!0},n=function(e){var n,a=Object(s["a"])(e);try{for(a.s();!(n=a.n()).done;){var i=n.value;"childList"===i.type&&t.debounceResizeWindow()}}catch(o){a.e(o)}finally{a.f()}},a=new MutationObserver(n);a.observe(this.$el,e),this.observer=a},changeTabsSize:function(){var t=this;this.$nextTick((function(){var e=t.$refs.filterTabs;if(e)for(var n=e.getBoundingClientRect(),a=n.x+n.width,i=Array.from(e.childNodes||[]).filter((function(t){return["DIV","BUTTON","SPAN"].includes(t.tagName)})),s=i.length-1;s>=0;s--){var o=i[s],c=o.getBoundingClientRect(),r=c.x+c.width;if(!(r>a))break;t.currentMaxTabCount--}}))},searchInput:function(){this.$emit("event-change","search",this.inputContent)},inputChange:function(){this.$emit("update:search",this.inputContent),this.$emit("event-change","searchUpdate",this.inputContent)},otherClick:function(t){if(t===this.config.tabSetCommand)this.$emit("event-change",t);else{var e=this.tabs.find((function(e){return e.value===t}));e?this.tabsClick(e):this.$emit("event-change",t)}},tabsClick:function(t){this.currentActiveTab=t.value,this.debounceResizeWindow(),this.$emit("update:activeTab",this.currentActiveTab),this.$emit("tabs-change",t)},selectionBarClick:function(t){this.$emit("operations-click",t)}}},l=r,u=(n("2f69"),n("9187"),n("2877")),d=Object(u["a"])(l,a,i,!1,null,"7a6f438c",null);e["a"]=d.exports},2309:function(t,e,n){"use strict";n("d302")},"2f69":function(t,e,n){"use strict";n("1926")},"34f7":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"knowledge-collection"},[n("wk-page-header",{attrs:{title:"最近使用"}}),t._v(" "),n("wk-filter-header",{attrs:{tabs:t.tabsList,"active-tab":t.activeTab,props:{tabSetShow:!1,showSearch:!1}},on:{"update:activeTab":function(e){t.activeTab=e}}}),t._v(" "),n("div",{staticClass:"container"},[n("section-table",{attrs:{data:t.tableData[t.activeTab]||[]}})],1)],1)},i=[],s=(n("99af"),n("b729")),o=n("fdca"),c=n("1bfc"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-table",{attrs:{data:t.data,height:"100%"},on:{"row-click":t.handleRowClick}},[n("el-table-column",{attrs:{label:"名称","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticClass:"file-main"},[2===e.row.type?n("i",{staticClass:"wk wk-folder file-icon folder"}):3===e.row.type?n("i",{staticClass:"wk wk-doc file-icon doc"}):n("img",{staticClass:"img-icon",attrs:{src:t.getFileIcon(e.row.title),alt:""}}),t._v(" "),n("span",{staticClass:"file-name"},[t._v("\n          "+t._s(e.row.title)+"\n        ")]),t._v(" "),e.row.description?n("span",{staticClass:"file-desc"},[t._v("\n          "+t._s(e.row.description)+"\n        ")]):t._e()])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"知识库名称",width:"300","show-overflow-tooltip":"",prop:"libraryName"}}),t._v(" "),n("el-table-column",{attrs:{label:"浏览时间",width:"240","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n      浏览于"+t._s(e.row.createTime)+"\n    ")]}}])})],1)},l=[],u=(n("a9e3"),n("14d9"),n("fb6a"),n("ed08")),d={name:"SectionTable",filters:{getFileSize:function(t){return Object(u["f"])(Number(t))}},props:{data:{type:Array}},data:function(){return{}},methods:{handleRowClick:function(t,e,n){var a={id:t.libraryId,folderId:t.folderId};t.documentId&&(a.documentId=t.documentId,a.type=t.type),a.navActiveMenu="/knowledge/recent",this.$router.push({path:"/knowledge/main",query:a})},getFileIcon:function(t){var e="";if(t){var n=t.lastIndexOf(".");e=t.slice(n+1)}return Object(u["k"])(e)},handleRecover:function(t){}}},h=d,b=(n("4d19"),n("2877")),f=Object(b["a"])(h,r,l,!1,null,"58f5ce00",null),v=f.exports,p={name:"KnowledgeRecent",components:{WkPageHeader:o["a"],WkFilterHeader:c["a"],SectionTable:v},filters:{getCount:function(t,e){return t?"".concat(e,"(").concat(t,")"):e}},data:function(){return{tabsList:[{label:"最近浏览",value:"todayList"},{label:"昨天",value:"yesterdayList"},{label:"最近30天",value:"monthList"}],activeTab:"todayList",tableData:{}}},created:function(){this.getData()},methods:{getData:function(){var t=this;Object(s["t"])({status:1}).then((function(e){t.tableData=e.data})).catch()}}},w=p,m=(n("fb81"),Object(b["a"])(w,a,i,!1,null,"15282f1e",null));e["default"]=m.exports},"4d19":function(t,e,n){"use strict";n("0a98")},"79e9":function(t,e,n){},"7c26":function(t,e,n){},9187:function(t,e,n){"use strict";n("7c26")},d302:function(t,e,n){},fb81:function(t,e,n){"use strict";n("79e9")},fdca:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("flexbox",{staticClass:"wk-page-header",attrs:{justify:"space-between"}},[n("div",{staticClass:"wk-page-header__left"},[t.title||t.$slots.title?n("span",{staticClass:"wk-page-header-title"},[t._t("title",[t._v(t._s(t.title))])],2):t._e(),t._v(" "),t.help?n("i",{staticClass:"wk wk-icon-fill-help wk-help-tips",attrs:{"data-type":t.help.type,"data-id":t.help.id}}):t._e(),t._v(" "),t._t("left")],2),t._v(" "),n("div",{staticClass:"wk-page-header__center"},[t._t("center")],2),t._v(" "),n("div",{staticClass:"wk-page-header__right"},[t._t("right"),t._v(" "),t.dropdowns&&t.dropdowns.length>0?n("el-dropdown",{class:{"margin-left-interval":t.$slots.right},attrs:{trigger:"click"},on:{command:t.dropdownCommand}},[n("el-button",{staticClass:"dropdown-btn",attrs:{icon:"el-icon-more"}}),t._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.dropdowns,(function(e,a){return n("el-dropdown-item",{key:a,attrs:{icon:e.icon,command:e.command}},[t._v(t._s(e.name))])})))],1):t._e()],2)])},i=[],s={name:"WkPageHeader",components:{},props:{title:String,dropdowns:Array,help:Object},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{dropdownCommand:function(t){this.$emit("command",t)}}},o=s,c=(n("2309"),n("2877")),r=Object(c["a"])(o,a,i,!1,null,"985b7582",null);e["a"]=r.exports}}]);